# MAS & Elo Rating トーナメント優勝確率推定ソフト

## 概要

Multi-Agent Simulation (MAS) とElo Ratingを組み合わせたトーナメント優勝確率推定ソフトです。各参加者をエージェントとして扱い、Eloレーティングに基づいた確率的対戦シミュレーションを大量実行することで、統計的に信頼性の高い優勝確率を算出します。

## 特徴

- **Eloレーティングシステム**: チェスなどで使われる相対的な実力評価システムを採用
- **Multi-Agent Simulation**: 各参加者を独立したエージェントとして扱い、相互作用をシミュレート
- **確率的シミュレーション**: レーティング差から期待勝率を計算し、確率的に勝敗を決定
- **大量シミュレーション**: 数千〜数万回のトーナメントを実行して統計的優勝確率を算出
- **可視化機能**: 結果をグラフやチャートで分かりやすく表示

## ファイル構成

```
tournament_simulator.py    # メインプログラム（基本クラスとシミュレーション機能）
interactive_demo.py        # インタラクティブデモ（カスタム設定とWhat-if分析）
visualizer.py             # 可視化機能（グラフ生成）
requirements.txt          # 必要なライブラリ
README.md                 # このファイル
```

## 必要な環境

- Python 3.7以上
- 必要なライブラリは`requirements.txt`に記載

## インストール

```bash
# ライブラリのインストール
pip install -r requirements.txt
```

## 使用方法

### 1. 基本実行

```bash
python tournament_simulator.py
```

プリセットされた8人のプレイヤーで10,000回のシミュレーションを実行し、結果を表示します。

### 2. インタラクティブデモ

```bash
python interactive_demo.py
```

以下の機能が利用できます：
- カスタムプレイヤーの設定
- シミュレーション回数の調整
- What-if分析（レーティング変更の影響確認）

### 3. 可視化

```bash
python visualizer.py
```

シミュレーション結果をグラフで可視化し、PNG画像として保存します。

## システムの仕組み

### Eloレーティング計算

```
期待勝率 = 1 / (1 + 10^((対戦相手レーティング - 自分レーティング) / 400))
```

### 対戦シミュレーション

1. 2人のプレイヤーのレーティング差から期待勝率を計算
2. 乱数を使って確率的に勝者を決定
3. 「番狂わせ」も現実的な確率で発生

### トーナメント構造

- **シングルエリミネーション**: 1回負けたら敗退
- プレイヤー数が2の累乗でない場合は自動的にBYE（不戦勝）を配置
- 2-16人のトーナメントに対応

### マルチシミュレーション

1. 同一条件で大量のトーナメントを実行
2. 各プレイヤーの優勝回数をカウント
3. 統計的な優勝確率を算出

## 実行例

```
=== MAS & Elo Rating トーナメント優勝確率推定ソフト ===

参加プレイヤー:
1. プレイヤーA (レーティング: 1800)
2. プレイヤーB (レーティング: 1600)
3. プレイヤーC (レーティング: 1550)
...

=== シミュレーション結果 ===
 順位 プレイヤー名  Eloレーティング  優勝回数  優勝確率
  1 プレイヤーA       1800  5688 56.9%
  2 プレイヤーB       1600  1058 10.6%
  3 プレイヤーC       1550  1028 10.3%
...
```

## 技術的詳細

### 主要クラス

- **Player**: プレイヤー情報（名前、レーティング、戦績）
- **EloRating**: Eloレーティング計算機能
- **Match**: 1vs1対戦のシミュレーション
- **Tournament**: トーナメント管理とブラケット生成
- **Simulator**: 大量シミュレーション実行

### 拡張可能性

現在の実装は基本機能に焦点を当てていますが、以下の拡張が容易に実装可能です：

- ダブルエリミネーション形式
- リーグ戦形式
- レーティングの動的更新
- より詳細な統計分析
- Web UI化

## パフォーマンス

- 8人トーナメント × 10,000回: 約1-2秒
- 16人トーナメント × 10,000回: 約3-5秒
- 並列処理により更なる高速化も可能

## ライセンス

このソフトウェアはMITライセンスの下で公開されています。